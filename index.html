<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Ewidencji Czasu Pracy</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body>
 <div id="app-container"><header class="main-header">
        <h1>Generator Ewidencji Czasu Pracy Lekarza StaÅ¼ysty</h1>
    </header>

    <div id="warning-message">
        <strong>Uwaga!</strong> Przekroczono normÄ™ godzin dyÅ¼uru w miesiÄ…cu (40h 20').
    </div>

<div class="ui-container">
    <div class="privacy-notice">
        <p>ğŸ”’ <strong>Twoje dane sÄ… bezpieczne.</strong> Wszystkie informacje, ktÃ³re wprowadzasz, sÄ… przetwarzane wyÅ‚Ä…cznie w Twojej przeglÄ…darce,tylko na Twoim komputerze i nigdzie nie sÄ… wysyÅ‚ane. Ta strona nie uÅ¼ywa Å¼adnych mechanizmÃ³w Å›ledzÄ…cych ani analitycznych.</p>
    </div>

    <h2>WypeÅ‚nij dane</h2>
    <div class="controls-wrapper">
        <div class="control-group">
            <label for="imieNazwiskoInput">ImiÄ™ i nazwisko staÅ¼ysty:</label>
            <input type="text" id="imieNazwiskoInput" oninput="aktualizujPodglad()" placeholder="np. Jan Kowalski">
        </div>
        <div class="control-group">
            <label for="miesiacInput">MiesiÄ…c i rok:</label>
            <div class="month-selector">
                <button id="prev-month-btn" onclick="zmienMiesiac(-1)">&lt;</button>
                <input type="text" id="miesiacInput" oninput="aktualizujWszystko()" placeholder="np. PaÅºdziernik 2025">
                <button id="next-month-btn" onclick="zmienMiesiac(1)">&gt;</button>
            </div>
        </div>
        <div class="control-group">
            <label>WypeÅ‚nij masowo kody pracy:</label>
            <div class="fill-buttons-group">
                <button class="fill-btn" data-code="1A">WypeÅ‚nij "1A"</button>
                <button class="fill-btn" data-code="SZ">WypeÅ‚nij "SZ"</button>
                <button class="fill-btn" data-code="UUT">WypeÅ‚nij "UUT"</button>
            </div>
        </div>
        <div class="control-group">
            <label>ZarzÄ…dzanie danymi:</label>
            <button id="clear-data-btn" class="btn-danger">WyczyÅ›Ä‡ wszystkie dane</button>
        </div>
    </div>

    <details class="explanation-box">
        <summary>Jak dziaÅ‚ajÄ… automatyzacje? (kliknij, aby rozwinÄ…Ä‡)</summary>
        <p>
            Aplikacja posiada kilka funkcji, ktÃ³re przyspieszajÄ… wypeÅ‚nianie ewidencji. <strong>Wszystkie automatycznie wstawione dane moÅ¼esz pÃ³Åºniej rÄ™cznie edytowaÄ‡.</strong>
        </p>
        <ul>
            <li><strong>Automatyczny wybÃ³r miesiÄ…ca:</strong> Do 5. dnia kaÅ¼dego miesiÄ…ca generator domyÅ›lnie ustawia ewidencjÄ™ za miesiÄ…c poprzedni. Od 6. dnia miesiÄ…ca domyÅ›lnie ustawiany jest miesiÄ…c bieÅ¼Ä…cy.</li>
            <li><strong>Automatyczne wielkie litery:</strong> Wpisane kody (np. "1a", "d", "uut") zostanÄ… automatycznie zamienione na wielkie litery.</li>
            <li><strong>Szybkie wstawianie dyÅ¼uru:</strong> KlikniÄ™cie w komÃ³rkÄ™ <strong>KOD DYÅ»URU</strong> wstawia lub usuwa kod <strong>D</strong>.</li>
            <li><strong>Godziny pracy i dyÅ¼uru:</strong> Wpisanie kodu <strong>1A</strong>, <strong>SZ</strong> lub <strong>D</strong> automatycznie uzupeÅ‚nia godziny pracy oraz ich wymiar. Wpisane dane moÅ¼na zmieniÄ‡ rÄ™cznie.</li>
            <li><strong>Logika dyÅ¼urÃ³w 5-godzinnych:</strong> W celu rÃ³wnego rozÅ‚oÅ¼enia czasu, krÃ³tsze dyÅ¼ury (w dni robocze niepoprzedzajÄ…ce dnia wolnego) sÄ… naprzemiennie ustawiane jako <strong>5h 5'</strong> i <strong>5h</strong>, zawsze zaczynajÄ…c od dÅ‚uÅ¼szej wersji.</li>
            <li><strong>WydÅ‚uÅ¼ony dyÅ¼ur przed dniem wolnym:</strong> JeÅ›li dzieÅ„ nastÄ™pujÄ…cy po dyÅ¼urze jest dniem wolnym (np. weekend, urlop), dyÅ¼ur jest automatycznie wydÅ‚uÅ¼any do 10h 5'. Funkcja nie dziaÅ‚a, jeÅ›li kolejny dzieÅ„ to nieobecnoÅ›Ä‡ typu ZL4, ZP, ZN lub IN.</li>
            <li><strong>Blokowanie wierszy:</strong> Wpisanie kodu nieobecnoÅ›ci (np. <strong>UUT</strong>, <strong>ZL4</strong>) automatycznie czyÅ›ci i blokuje resztÄ™ wiersza.</li>
            <li><strong>Sumowanie godzin:</strong> Suma godzin dyÅ¼uru w wierszu <strong>Razem</strong> jest obliczana na bieÅ¼Ä…co.</li>
            <li><strong>Weekendy:</strong> Soboty i niedziele sÄ… automatycznie oznaczane jako dni wolne (<code>W5</code> / <code>-</code>) i blokowane.</li>
            <li><strong>OstrzeÅ¼enie o limicie:</strong> JeÅ›li suma godzin dyÅ¼uru przekroczy <strong>40h 20'</strong>, na gÃ³rze strony pojawi siÄ™ czerwony komunikat oraz jednorazowy alert.</li>
        </ul>
    </details>

    <div class="final-action-wrapper">
        <button onclick="generujPDF()">Generuj PDF</button>
        <div class="info-icon" data-tooltip="PDF zostanie wygenerowany na podstawie podglÄ…du widocznego po prawej stronie.">i</div>
    </div>
</div>

    <div class="tables-container">

        <div class="table-wrapper">
            <h2>Formularz do wypeÅ‚nienia</h2>
            <div id="formularz-edycji" class="szablon-base">
                <div class="header-text">
                    <span>ZATWIERDZAM<br>...............................<br>Data i podpis koordynatora</span>
                    <span>ZaÅ‚Ä…cznik Nr 1</span>
                </div>

                <h1>EWIDENCJA CZASU PRACY LEKARZA STAÅ»YSTY</h1>
                <p>ZA MIESIÄ„C: <span id="form-miesiacPodglad">.......................................................................</span></p>
                <p><strong>ImiÄ™ i nazwisko lekarza staÅ¼ysty:</strong> <span id="form-imieNazwiskoPodglad">........................................................................</span></p>

                <table class="ewidencja-table">
                    <thead>
                        <tr><th rowspan="2">DzieÅ„ mies.</th><th id="kod-pracy-placeholder"></th><th colspan="5">Godziny pracy</th><th></th><th></th><th></th></tr>
                        <tr><th>KOD PRACY / NIEOBECNOÅšCI</th><th>Praca godz. OD - DO</th><th>IloÅ›Ä‡ godzin</th><th>KOD DYÅ»URU</th><th>DYÅ»UR OD DO</th><th>IloÅ›Ä‡ godz. dyÅ¼uru</th><th>IloÅ›Ä‡ godzin nocnych</th><th>IloÅ›Ä‡ godzin nieob.</th><th>IloÅ›Ä‡ godzin nadliczbowych</th></tr>
                    </thead>
                    <tbody>
                        <tr id="form-day-row-1"><td>1</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-2"><td>2</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-3"><td>3</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-4"><td>4</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-5"><td>5</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-6"><td>6</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-7"><td>7</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-8"><td>8</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-9"><td>9</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-10"><td>10</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-11"><td>11</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-12"><td>12</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-13"><td>13</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-14"><td>14</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-15"><td>15</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-16"><td>16</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-17"><td>17</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-18"><td>18</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-19"><td>19</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-20"><td>20</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-21"><td>21</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-22"><td>22</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-23"><td>23</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-24"><td>24</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-25"><td>25</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-26"><td>26</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-27"><td>27</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-28"><td>28</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-29"><td>29</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-30"><td>30</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="form-day-row-31"><td>31</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    </tbody>
                    <tfoot><tr id="form-total-row"><td>Razem</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tfoot>
                </table>
            </div>
        </div>

        <div class="table-wrapper">
            <h2>PodglÄ…d wydruku</h2>
            <div id="podglad-pdf" class="szablon-base">
                <div class="header-text">
                    <span>ZATWIERDZAM<br>...............................<br>Data i podpis koordynatora</span>
                    <span>ZaÅ‚Ä…cznik Nr 1</span>
                </div>

                <h1>EWIDENCJA CZASU PRACY LEKARZA STAÅ»YSTY</h1>
                <p>ZA MIESIÄ„C: <span id="preview-miesiacPodglad">.......................................................................</span></p>
                <p><strong>ImiÄ™ i nazwisko lekarza staÅ¼ysty:</strong> <span id="preview-imieNazwiskoPodglad">........................................................................</span></p>
                
                <table class="ewidencja-table">
                     <thead>
                        <tr><th rowspan="2">DzieÅ„ mies.</th><th></th><th colspan="5">Godziny pracy</th><th></th><th></th><th></th></tr>
                        <tr><th>KOD PRACY / NIEOBECNOÅšCI</th><th>Praca godz. OD - DO</th><th>IloÅ›Ä‡ godzin</th><th>KOD DYÅ»URU</th><th>DYÅ»UR OD DO</th><th>IloÅ›Ä‡ godz. dyÅ¼uru</th><th>IloÅ›Ä‡ godzin nocnych</th><th>IloÅ›Ä‡ godzin nieob.</th><th>IloÅ›Ä‡ godzin nadliczbowych</th></tr>
                    </thead>
                    <tbody>
                        <tr id="preview-day-row-1"><td>1</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-2"><td>2</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-3"><td>3</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-4"><td>4</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-5"><td>5</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-6"><td>6</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-7"><td>7</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-8"><td>8</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-9"><td>9</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-10"><td>10</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-11"><td>11</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-12"><td>12</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-13"><td>13</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-14"><td>14</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-15"><td>15</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-16"><td>16</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-17"><td>17</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-18"><td>18</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-19"><td>19</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-20"><td>20</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-21"><td>21</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-22"><td>22</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-23"><td>23</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-24"><td>24</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-25"><td>25</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-26"><td>26</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-27"><td>27</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-28"><td>28</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-29"><td>29</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-30"><td>30</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                        <tr id="preview-day-row-31"><td>31</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
                    </tbody>
                    <tfoot><tr id="preview-total-row"><td>Razem</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tfoot>
                </table>

                <div class="footer-codes">
                    <p><strong>KOD PRACY:</strong> <span class="code">1A</span> â€“ 7:35 <span class="code">SZ</span> â€“ staÅ¼ czÄ…stkowy zewnÄ™trzny <span class="code">KOZ</span> â€“ kursy/szkolenia obowiÄ…zkowe zewnÄ™trzne</p>
                    <p><strong>KOD DYÅ»URU:</strong> <span class="code">D</span> â€“ dyÅ¼ur</p>
                    <p><strong>NIEOBECNOÅšCI:</strong> <span class="code">UUT</span> â€“ urlop wypoczynkowy, okolicznoÅ›ciowy, <span class="code">UM/UR</span> - urlop macierzyÅ„ski/ rodzicielski, <span class="code">UW</span> â€“ urlop wychow., <span class="code">ZL4</span> â€“ zwolnienie lekarskie, <span class="code">UO</span> â€“ ulop opiekuÅ„czy, <span class="code">SW</span> â€“ zwolnienie siÅ‚a wyÅ¼sza, <span class="code">WN</span> - wolne niepeÅ‚nosprawni, <span class="code">NZD</span> â€“ opieka nad zdrowym dzieckiem, <span class="code">ZP / ZN</span> â€“ zwolnienie pÅ‚atne / zwolnienie niepÅ‚atne, <span class="code">CW</span> â€“ Ä‡wiczenia wojskowe, <span class="code">OK</span> â€“ oddanie krwi, <span class="code">IN</span> â€“ inne nieobecnoÅ›ci (wpisaÄ‡ jaka).</p>
                    <p><span class="code">W5</span> â€“ wolne w przeciÄ™tnie piÄ™ciodniowym tygodniu pracy</p>
                    <p><span class="code">WZN</span> â€“ wolne za niedzielÄ™, <span class="code">WZÅš</span> - wolne za Å›wiÄ™to</p>
                </div>
                
                <div class="signature-line">
                    <p>...........................................................</p>
                    <span>Data i podpis lekarza staÅ¼ysty</span>
                </div>
            </div>
        </div>

    </div>
    <div id="size-warning-overlay" class="hidden">
            <div id="size-warning-popup">
                <h2>Dopasowanie ekranu</h2>
                <p id="size-warning-message">Dla lepszego dopasowania, widok zostaÅ‚ automatycznie przeskalowany. Aby korzystaÄ‡ z peÅ‚nego rozmiaru, zalecamy ekran o szerokoÅ›ci powyÅ¼ej 1600px.</p>
                <button id="close-size-warning">Rozumiem, kontynuuj</button>
            </div>
    </div>
    
    <script src="script.js"></script>

</body>
</html>
